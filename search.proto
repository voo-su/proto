syntax = "proto3";

package search;

option go_package = "voo.su/api/app/pb;pb";

import "common/common.proto";

service SearchService {
  // Searches for users matching the given query
  rpc Users(SearchUsersRequest) returns (SearchUserResponse);

  // Searches for group chats matching the given query
  rpc GroupChats(SearchGroupChatsRequest) returns (SearchGroupChatsResponse);
}

message SearchUsersRequest {
  string q = 1;
}

message SearchUserResponse {
  message Item {
    common.User user = 1;
  }

  repeated Item items = 1;
}

message SearchGroupChatsRequest {
  int32 page = 1;
  string name = 2;
}

message SearchGroupChatsResponse {
  message Item {
    common.GroupChat group_chat = 1;
  }

  repeated Item items = 1;
  bool next = 2;
}
